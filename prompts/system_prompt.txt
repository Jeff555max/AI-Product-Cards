print("\n" + "="*50)
print("–¢–ï–•–ù–ò–ö–ê 1: ZERO-SHOT PROMPTING")
print("="*50)

llm_zero_shot = ChatOpenAI(
    model_name="gpt-4o-mini",
    temperature=0.2,
    openai_api_key=API_KEY
)

prompt_zero_shot = PromptTemplate(
    input_variables=["user_input", "product_data"],
    template="""
–†–æ–ª—å: –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç-—Ä–µ–¥–∞–∫—Ç–æ—Ä –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ (Ozon/Wildberries).
–ó–∞–¥–∞—á–∞: —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞ –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞.

–î–ê–ù–ù–´–ï –¢–û–í–ê–†–ê –ò–ó –ö–ê–¢–ê–õ–û–ì–ê:
{product_data}

–ö–∞—Ä—Ç–æ—á–∫–∞ –¥–æ–ª–∂–Ω–∞ –≤–∫–ª—é—á–∞—Ç—å:
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–∏—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞)
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (1‚Äì2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (5‚Äì7 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (—Å–ø–∏—Å–æ–∫ –∏–∑ 4 –ø—É–Ω–∫—Ç–æ–≤)
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (–∏—Å–ø–æ–ª—å–∑—É–π –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞)
- SEO-–∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)

–°—Ç–∏–ª—å: –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π, –ø—Ä–æ–¥–∞—é—â–∏–π, —Å —É–ø–æ—Ä–æ–º –Ω–∞ –≤—ã–≥–æ–¥—É.

–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: {user_input}

–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
üîπ **–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:**
[–Ω–∞–∑–≤–∞–Ω–∏–µ]

üîπ **–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:**
[–æ–ø–∏—Å–∞–Ω–∏–µ]

üîπ **–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ:**
[–æ–ø–∏—Å–∞–Ω–∏–µ]

üîπ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- [–ø—É–Ω–∫—Ç 1]
- [–ø—É–Ω–∫—Ç 2]
- [–ø—É–Ω–∫—Ç 3]
- [–ø—É–Ω–∫—Ç 4]

üîπ **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- [–ø–∞—Ä–∞–º–µ—Ç—Ä: –∑–Ω–∞—á–µ–Ω–∏–µ]

üîπ **SEO-–∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:**
[—Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é]
"""
)

chain_zero_shot = LLMChain(llm=llm_zero_shot, prompt=prompt_zero_shot)

# –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã Zero-Shot —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
print("\nüìù –ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´ ZERO-SHOT –° –ö–ê–¢–ê–õ–û–ì–û–ú:\n")

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
user_queries = [
    products_df.iloc[0]['name'] if 'name' in products_df.columns else products_df.iloc[0].iloc[0],
    products_df.iloc[1]['name'] if 'name' in products_df.columns else products_df.iloc[1].iloc[0],
    products_df.iloc[2]['name'] if 'name' in products_df.columns else products_df.iloc[2].iloc[0]
]

for query in user_queries:
    print(f"\n{'='*60}")
    print(f"–ó–∞–ø—Ä–æ—Å: {query}")
    print('='*60)

    # –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
    product_info = get_product_info(query, products_df)

    if product_info:
        product_data_str = "\n".join([f"{k}: {v}" for k, v in product_info.items()])
        response = chain_zero_shot.run(user_input=query, product_data=product_data_str)
        print(response)
    else:
        print("‚ö†Ô∏è –¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–∞—Ç–∞–ª–æ–≥–µ")

    time.sleep(1)

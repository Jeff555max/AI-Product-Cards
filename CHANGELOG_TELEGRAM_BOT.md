# üì¶ Telegram Bot - –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### üóÇÔ∏è –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
telegram_bot/                  # –ù–æ–≤–∞—è –ø–∞–ø–∫–∞ —Å –±–æ—Ç–æ–º
‚îú‚îÄ‚îÄ __init__.py               # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ config.py                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Config class)
‚îú‚îÄ‚îÄ utils.py                  # –£—Ç–∏–ª–∏—Ç—ã (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏)
‚îú‚îÄ‚îÄ gigachat_service.py       # –°–µ—Ä–≤–∏—Å –¥–ª—è GigaChat LLM
‚îú‚îÄ‚îÄ handlers.py               # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îú‚îÄ‚îÄ test_bot.py              # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ Telegram API
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±–æ—Ç–∞

run_telegram_bot.py          # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
TELEGRAM_BOT_QUICKSTART.md   # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```

### üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `requirements.txt` - –¥–æ–±–∞–≤–ª–µ–Ω `pyTelegramBotAPI>=4.14.0`
- `.env.example` - –¥–æ–±–∞–≤–ª–µ–Ω `TELEGRAM_BOT_TOKEN`
- `.gitignore` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –±–æ—Ç–∞
- `README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

#### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞:
- `/start` - –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- `/info` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `/list` - –ü—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:
- –£–º–Ω—ã–π –ø–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Å–∏–Ω–æ–Ω–∏–º–∞–º–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ —á–µ—Ä–µ–∑ GigaChat
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–∫–µ–Ω–æ–≤
- Retry –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –†–∞–∑–±–∏–≤–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (>4096 —Å–∏–º–≤–æ–ª–æ–≤)

#### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞:
- üìã –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
- ‚ÑπÔ∏è –°–ø—Ä–∞–≤–∫–∞
- üéß –ù–∞—É—à–Ω–∏–∫–∏
- üíª –ù–æ—É—Ç–±—É–∫–∏

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:**
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (config, utils, service, handlers)
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ CLI –≤–µ—Ä—Å–∏–∏
- Type hints –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏

‚úÖ **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª + –∫–æ–Ω—Å–æ–ª—å
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- Graceful shutdown (Ctrl+C)

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- –¢–æ–∫–µ–Ω –≤ .env (–Ω–µ –≤ git)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ù–µ—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–≥–∞—Ö

‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
- CLI —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ (–Ω–µ —Å–ª–æ–º–∞–Ω!)
- Telegram –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –ª–æ–≥–∏–∫—É
- –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã

### üîÑ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

–ò–∑ `generate_card.py` –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:
- ‚úÖ `download_yadisk_file()` - –∑–∞–≥—Ä—É–∑–∫–∞ —Å –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫–∞
- ‚úÖ `load_products()` - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ `get_product_info()` - —É–º–Ω—ã–π –ø–æ–∏—Å–∫
- ‚úÖ –°–ª–æ–≤–∞—Ä—å —Å–∏–Ω–æ–Ω–∏–º–æ–≤
- ‚úÖ GigaChat chain –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ Retry –º–µ—Ö–∞–Ω–∏–∑–º

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 8
- **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 4
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~800
- **–ú–æ–¥—É–ª–µ–π:** 5
- **–ö–æ–º–∞–Ω–¥ –±–æ—Ç–∞:** 4
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:** 6

## üöÄ –ó–∞–ø—É—Å–∫

### CLI (–∫–∞–∫ —Ä–∞–Ω—å—à–µ):
```bash
python ai_product_cards/generate_card.py
```

### Telegram Bot (–Ω–æ–≤–æ–µ):
```bash
python run_telegram_bot.py
```

## üìù –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```bash
TELEGRAM_BOT_TOKEN=your_bot_token_here
```

–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (GigaChat, Langfuse) - –æ–±—â–∏–µ!

## ‚úÖ –ß—Ç–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

- ‚úÖ CLI –≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –æ–±—â–∏–π
- ‚úÖ –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ –æ–±—â–∏–π
- ‚úÖ GigaChat –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—â–∏–µ
- ‚úÖ Langfuse —Ç—Ä–µ–π—Å–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–∞—Ö
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

## üéì –û–±—É—á–µ–Ω–∏–µ

1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ: `TELEGRAM_BOT_QUICKSTART.md`
2. –ò–∑—É—á–∏—Ç–µ: `telegram_bot/README.md`
3. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ: `python telegram_bot/test_bot.py`
4. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ: `python run_telegram_bot.py`

## üêõ –û—Ç–ª–∞–¥–∫–∞

–õ–æ–≥–∏: `telegram_bot.log`

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f telegram_bot.log
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–û—Å–Ω–æ–≤–Ω–æ–π README](README.md)
- [Telegram Bot README](telegram_bot/README.md)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](TELEGRAM_BOT_QUICKSTART.md)

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] Webhook –≤–º–µ—Å—Ç–æ polling –¥–ª—è production
- [ ] Inline —Ä–µ–∂–∏–º (–ø–æ–∏—Å–∫ –≤ –ª—é–±–æ–º —á–∞—Ç–µ)
- [ ] –ö–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] Multi-language support
